import React, { useState, useRef } from 'react';
import {
  StyleSheet,
  Text,
  View,
  TouchableOpacity,
  Dimensions,
} from 'react-native';
import Svg, { Defs, Path, Rect } from 'react-native-svg';


const { width } = Dimensions.get('window');
const CIRCLE_RADIUS = width * 0.5; // Adjust the radius based on screen width
const BUTTON_SIZE = 110; // Size of the choice buttons
const BUTTON_RADIUS = BUTTON_SIZE / 2;

export default function JankenChoices({ onChoiceSelect }) {
  // States for both buttons
  const [isToggled1, setIsToggled1] = useState(false);
  const [isToggled2, setIsToggled2] = useState(false);
  const [isToggled3, setIsToggled3] = useState(false);

  // Refs for TouchableOpacity (optional, if you need direct access)
  const button1Ref = useRef(null);
  const button2Ref = useRef(null);
  const button3Ref = useRef(null);

  return (
    <View style={styles.container}>
      {/* Replace the arc with an SVG */}
      <Svg
        style={styles.arc}
        viewBox="0 0 400 400" // Adjust the viewBox dimensions as per your SVG
        preserveAspectRatio="xMidYMid meet"
      >
        <Path
          d="M-68.5269 115.255C80.9872 -34.2592 323.398 -34.2593 472.912 115.255L554.849 197.192L202.192 549.849L-150.464 197.192L-68.5269 115.255Z" // Example SVG path
          fill="#5d2835"
          stroke="#efbac7"
          strokeWidth={5}
        />
      </Svg>
      <View style={styles.contentContainer}>
        <Text style={styles.title}>Choose Your{'\n'}Janken</Text>
        <View style={styles.choices}>
          {/* Rock (Left) */}
          <TouchableOpacity
            ref={button1Ref}
            style={[styles.choiceButton, styles.rock]}
            onPress={() => setIsToggled1(!isToggled1)} // Pass the index to the handler
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={101}
              height={100}
              fill="none"
            >
              <g filter="url(#a)">
                <rect
                  width={97.676}
                  height={97.676}
                  x={2}
                  fill={isToggled1 ? '#FFC408' : '#F5F5F5'}
                  rx={48.838}
                />
                <rect
                  width={94.676}
                  height={94.676}
                  x={3.5}
                  y={1.5}
                  stroke="#FFC408"
                  strokeWidth={3}
                  rx={47.338}
                />
              </g>
              <mask
                id="b"
                width={79}
                height={77}
                x={15}
                y={10}
                maskUnits="userSpaceOnUse"
                style={{
                  maskType: 'alpha',
                }}
              >
                <path
                  fill="#F5F5F5"
                  stroke="#000"
                  strokeWidth={1.912}
                  d="m28.101 83.06 50.727 2.613 13.684-31.02-7.348-20.04-12.08-22.65-25.164 2.523L25.18 22.48l-8.571 9.44.783 16.236 5.175 25.051L28.1 83.06Z"
                />
              </mask>
              <g mask="url(#b)">
                <path
                  fill={isToggled1 ? '#F5F5F5' : '#FFC408'}
                  fillRule="evenodd"
                  d="M27.038 66.677c3.735-3.864 4.472-6.52 4.078-14.692-.436-9.028.133-10.57 5.985-16.228 7.057-6.828 12.226-8.718 8.16-2.986-1.352 1.908-3.171 4.041-4.04 4.742-.867.7-.516 1.86.784 2.58 1.432.792 5.357-1.937 9.992-6.945 7.148-7.726 12.165-10.53 12.34-6.896.042.867-1.986 3.71-4.506 6.317-3.056 3.161-3.916 5.349-2.58 6.562 1.333 1.21 3.415.354 6.245-2.574 4.282-4.43 8.71-5.948 8.851-3.033.042.867-1.986 3.71-4.507 6.317-3.056 3.161-3.916 5.35-2.58 6.562 1.334 1.21 3.415.354 6.246-2.574 4.282-4.43 8.71-5.948 8.85-3.033.042.867-1.986 3.71-4.506 6.318-5.566 5.76-2.75 10.464 2.894 4.836 6.38-6.358 6.907.243.594 7.417-8.061 9.162-4.993 13.27 3.301 4.419 6.142-6.557 8.016-15.767 3.694-18.159-1.082-.598-2.03-2.4-2.108-4.007-.146-3.043-21.06-22.637-24.009-22.495-.928.045-2.916 1.433-4.415 3.085-1.5 1.652-5.62 3.143-9.151 3.314-5.045.243-8.068 2.152-14.07 8.888-6.983 7.839-7.601 9.427-7.167 18.422.26 5.414-.36 10.416-1.379 11.116-1.019.7-1.786 2.661-1.704 4.358.119 2.467 1.063 2.14 4.708-1.631Zm-7.611-98.236c1.082.598 2.101 3.877 2.266 7.287.22 4.57 2.128 7.808 7.267 12.328 8.23 7.242 11.936 5.683 4.114-1.73-3.493-3.31-5.473-7.188-5.66-11.089-.177-3.656-2.233-8-5.263-11.128-4.753-4.904-4.968-4.948-4.832-.945.076 2.304 1.026 4.678 2.108 5.277ZM35.93-54.9c3.861 3.293 7.304 3.927 20.411 3.764 16.778-.21 22.528 2.9 8.481 4.586l-8.396 1.01 15.718 14.356C85.118-19.333 87.286-16.57 84.558-15.37c-2.386 1.051-5.942-.9-12.775-7.012-5.209-4.656-10.058-7.819-10.778-7.026-.72.793 4.767 7.002 12.194 13.797C83.843-5.872 86.229-2.74 84.476-.81c-1.753 1.93-5.134-.171-15.969-9.932C60.95-17.552 54.308-22.3 53.75-21.291c-.557 1.007 3.898 6.236 9.9 11.62C74.326-.102 77.263 4.9 72.348 5.136 71 5.203 65.04.792 59.105-4.666c-5.936-5.456-11.562-9.393-12.503-8.746-.942.647 2.165 4.76 6.903 9.144 6.72 6.219 8.13 8.5 6.42 10.382-1.71 1.884-3.94.864-10.153-4.643-10.389-9.208-12.892-6.445-2.725 3.007 7.403 6.884 15.08 9.121 17.33 5.053.543-.98 2.783-1.403 4.98-.94 3.55.747 7.124-.532 16.814-6.01 1.538-.869 2.709-4.058 2.605-7.084-.106-3.025.412-7.57 1.15-10.1 1.155-3.965-.406-6.196-11.332-16.206-9.897-9.067-11.827-11.65-8.811-11.796 7.719-.372 10.458-7.45 4.851-12.543-2.35-2.134-7.122-2.664-18.864-2.098-8.993.434-16.672-.107-17.948-1.263-1.223-1.112-3.196-1.647-4.382-1.188-1.29.5-.287 2.43 2.49 4.799Zm6.957 141.872c1.696-.082 3.575-1.034 4.173-2.116.6-1.082 4.812-2.146 9.36-2.366 9.467-.457 18.52-6.737 14.747-10.229-1.606-1.485-2.806-1.209-4.494 1.038-1.407 1.872-5.428 3.215-10.331 3.451-6.096.294-9.054 1.59-12.285 5.38-3.403 3.99-3.638 4.961-1.17 4.842ZM41.101-15.475a2.134 2.134 0 0 0 2.893-.832 2.134 2.134 0 0 0-.833-2.894 2.134 2.134 0 0 0-2.893.833 2.134 2.134 0 0 0 .833 2.893ZM52.97 46.28c1.638-.08 2.406-.978 1.706-1.997-.7-1.02-2.08-1.815-3.07-1.767-.99.048-1.756.946-1.706 1.997.051 1.05 1.434 1.846 3.07 1.767Zm-4.598-69.764a2.134 2.134 0 0 0 2.893-.833 2.134 2.134 0 0 0-.833-2.893 2.134 2.134 0 0 0-2.893.833 2.134 2.134 0 0 0 .833 2.893Zm12.608 77.036c1.637-.08 2.405-.978 1.705-1.997-.7-1.02-2.08-1.815-3.07-1.767-.99.048-1.756.947-1.705 1.997.05 1.05 1.433 1.846 3.07 1.767Zm-5.336-85.046a2.134 2.134 0 0 0 2.893-.832 2.134 2.134 0 0 0-.832-2.893 2.134 2.134 0 0 0-2.894.833 2.134 2.134 0 0 0 .833 2.893ZM68.99 60.825c1.637-.08 2.406-.978 1.706-1.997-.7-1.02-2.08-1.814-3.07-1.767-.99.048-1.756.947-1.706 1.997.05 1.05 1.433 1.846 3.07 1.767ZM89.347 42.13c1.411 3.063 10.44 2.486 24.504-1.565 7.036-2.028 12.051-2.62 13.231-1.567 2.548 2.276 14.533 1.595 14.416-.82-.05-1.05-2.579-1.79-5.618-1.643-3.278.158-6.057-.94-6.831-2.7-2.076-4.717-2.211-17.925-.184-18.023 2.487-.12 6.109 6.194 6.344 11.056.237 4.917 1.157 4.893 5.736-.15 2-2.203 4.926-4.068 6.502-4.144 1.576-.076 2.819-1.095 2.762-2.264-.061-1.272-2.363-1.684-5.72-1.024-6.2 1.218-9.409-2.462-6.044-6.936 1.077-1.436 1.723-4.158 1.435-6.049-1.56-10.198-.679-12.048 5.888-12.365 3.964-.191 7.772 1.078 10.032 3.345 3.718 3.73 10.759 4.748 10.604 1.532-.047-.98-1.717-2.213-3.709-2.741-1.993-.528-5.24-2.585-7.218-4.569-2.92-2.928-6.079-3.486-16.797-2.969-17.377.838-20.385 2.741-19.536 12.36.366 4.14.287 7.939-.173 8.442-.462.5-6.718-.115-13.903-1.369-14.034-2.45-18.681-.917-18.345 6.05.228 4.733 3.582 6.623 15.745 8.878l10.626 1.97-11.252 3.143c-13.154 3.675-15.885 6.761-12.495 14.122Zm17.641-11.035c6.598-1.75 13.071-3.267 14.381-3.366 3.644-.28 3.095 5.14-.648 6.405-9.917 3.348-25.285 6.355-27.167 5.314-3.806-2.106.878-5.018 13.434-8.353Zm1.632-18.317c11.777 1.814 14.561 2.905 14.699 5.766.119 2.45-.865 3.287-3.218 2.738-1.863-.435-8.595-1.555-14.959-2.491-13.887-2.041-15.251-2.657-12.878-5.814 1.437-1.915 4.937-1.955 16.356-.2Zm20.76-7.52c2.976-.145 5.822.794 6.323 2.087.619 1.594-1.339 2.458-6.093 2.688-4.754.229-6.786-.443-6.323-2.089.374-1.335 3.117-2.543 6.093-2.687Zm-.349-10.515c4.627-.223 6.626.456 6.165 2.096-1.277 4.561-12.695 4.74-12.914.204-.052-1.083 2.984-2.118 6.749-2.3Zm21.778 44.9c1.918-.092 5.402-2.414 7.743-5.16 2.341-2.745 5.395-5.046 6.787-5.113 1.393-.067 2.471-1.412 2.395-2.988-.221-4.578-4.73-3.11-10.368 3.372-2.868 3.298-6.342 6.05-7.721 6.117-1.379.066-2.467.98-2.416 2.031.051 1.05 1.662 1.834 3.58 1.742Z"
                  clipRule="evenodd"
                />
              </g>
              <defs>
                <filter
                  id="a"
                  width={99.799}
                  height={99.799}
                  x={0.938}
                  y={0}
                  colorInterpolationFilters="sRGB"
                  filterUnits="userSpaceOnUse"
                >
                  <feFlood floodOpacity={0} result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    result="hardAlpha"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  />
                  <feOffset dy={1.062} />
                  <feGaussianBlur stdDeviation={0.531} />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                  <feBlend
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_81_471"
                  />
                  <feBlend
                    in="SourceGraphic"
                    in2="effect1_dropShadow_81_471"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          </TouchableOpacity>

          <TouchableOpacity
            ref={button2Ref}
            style={[styles.choiceButton, styles.scissors]}
            onPress={() => setIsToggled2(!isToggled2)} // Pass the index to the handler
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={101}
              height={100}
              fill="none"
            >
              <g filter="url(#a)">
                <rect
                  width={97.676}
                  height={97.676}
                  x={2}
                  fill={isToggled2 ? '#1E88A8' : '#F5F5F5'}
                  rx={48.838}
                />
                <rect
                  width={94.676}
                  height={94.676}
                  x={3.5}
                  y={1.5}
                  stroke="#1E88A8"
                  strokeWidth={3}
                  rx={47.338}
                />
              </g>
              <mask
                id="b"
                width={65}
                height={80}
                x={24}
                y={7}
                maskUnits="userSpaceOnUse"
                style={{
                  maskType: 'alpha',
                }}
              >
                <path
                  fill="#1E88A8"
                  stroke="#000"
                  strokeWidth={1.702}
                  d="m25.092 18.174 1.702 68.923 49.352 2.553 10.211-16.168L88.06 51.36 71.041 37.744V22.428L63.383 7.963 32.75 11.366l-7.658 6.808Z"
                />
              </mask>
              <g mask="url(#b)">
                <path
                  fill={isToggled2 ? '#F5F5F5' : '#1E88A8'}
                  fillRule="evenodd"
                  d="M12.328-42.867c3.274 3.485 5.604 4.254 12.885 4.254 8.042 0 9.389.572 14.167 6.016 5.766 6.566 7.224 11.24 2.304 7.38-1.638-1.282-3.456-2.99-4.041-3.792-.586-.802-1.632-.54-2.327.585-.766 1.239 1.491 4.845 5.744 9.18 6.56 6.684 8.837 11.264 5.6 11.264-.772 0-3.212-1.925-5.421-4.277-2.68-2.852-4.587-3.71-5.722-2.575-1.133 1.134-.461 3.021 2.02 5.662 3.754 3.996 4.913 7.997 2.316 7.997-.772 0-3.213-1.925-5.422-4.276-2.678-2.853-4.586-3.71-5.721-2.575-1.134 1.133-.461 3.02 2.02 5.662 3.754 3.995 4.913 7.996 2.316 7.996-.773 0-3.213-1.924-5.422-4.276-4.88-5.194-9.183-2.893-4.423 2.365 5.378 5.943-.512 6.129-6.618.21-7.798-7.558-11.581-5.007-4.07 2.745 5.566 5.74 13.671 7.8 15.982 4.062.579-.936 2.221-1.702 3.652-1.702 2.712 0 21.025-17.748 21.025-20.376 0-.827-1.149-2.653-2.553-4.057-1.404-1.404-2.553-5.13-2.553-8.276 0-4.494-1.567-7.263-7.297-12.886-6.668-6.543-8.053-7.161-16.067-7.161-4.823 0-9.243-.766-9.821-1.702-.579-.936-2.29-1.702-3.8-1.702-2.199 0-1.949.853 1.247 4.255Zm87.644-2.553c-.579.936-3.537 1.702-6.575 1.702-4.072 0-7.031 1.557-11.269 5.93-6.79 7.005-5.563 10.366 1.362 3.731 3.092-2.963 6.623-4.556 10.098-4.556 3.257 0 7.207-1.64 10.117-4.2 4.563-4.014 4.611-4.203 1.047-4.254-2.051-.031-4.202.711-4.78 1.647Zm20.037 15.67c-3.092 3.292-3.804 6.324-4.221 17.982-.532 14.921-3.543 19.899-4.44 7.341l-.538-7.506L97.376 1.422C86.287 12.445 83.74 14.254 82.79 11.778c-.832-2.166 1.055-5.243 6.78-11.055 4.362-4.43 7.38-8.604 6.707-9.278-.674-.674-6.428 3.936-12.786 10.246-9.113 9.044-12.001 11.03-13.641 9.39-1.641-1.641.372-4.557 9.513-13.768 6.378-6.427 10.883-12.126 10.01-12.665-.872-.538-5.71 3.197-10.752 8.301C69.656 2.03 65.084 4.424 65.084.046c0-1.202 4.177-6.31 9.282-11.351 5.104-5.043 8.844-9.874 8.31-10.739-.534-.864-4.324 1.72-8.424 5.744-5.815 5.706-7.903 6.861-9.503 5.262-1.601-1.602-.599-3.54 4.563-8.826 8.63-8.84 6.281-11.183-2.556-2.55C60.319-16.13 58-9.404 61.52-7.229c.847.524 1.128 2.534.623 4.467-.817 3.123.166 6.355 4.62 15.203.706 1.404 3.49 2.581 6.184 2.619 2.695.036 6.712.69 8.928 1.455 3.475 1.196 5.526-.095 14.891-9.377C105.251-1.27 107.63-2.875 107.63-.187c0 6.877 6.174 9.615 10.941 4.85 1.998-1.998 2.673-6.217 2.673-16.678 0-8.012.81-14.814 1.893-15.898 1.041-1.04 1.601-2.771 1.244-3.845-.39-1.167-2.148-.359-4.372 2.008Zm-126.4.1c0 1.512.765 3.222 1.701 3.8.936.58 1.702 4.37 1.702 8.421 0 8.435 5.194 16.751 8.46 13.547 1.388-1.363 1.194-2.442-.73-4.039-1.604-1.33-2.625-4.962-2.625-9.33 0-5.431-1.024-8.116-4.254-11.15-3.402-3.197-4.255-3.447-4.255-1.248Zm91.137 2.805a1.9 1.9 0 0 0 .616 2.607 1.9 1.9 0 0 0 2.607-.616 1.9 1.9 0 0 0-.616-2.607 1.9 1.9 0 0 0-2.607.616Zm-55.4 7.903c0 1.459.766 2.18 1.702 1.602.936-.579 1.702-1.772 1.702-2.653 0-.882-.766-1.602-1.702-1.602-.936 0-1.702 1.195-1.702 2.653Zm62.207-1.096a1.9 1.9 0 0 0 .616 2.608 1.9 1.9 0 0 0 2.607-.616 1.9 1.9 0 0 0-.616-2.608 1.9 1.9 0 0 0-2.607.616Zm-69.014 7.904c0 1.458.766 2.18 1.702 1.601.936-.578 1.702-1.771 1.702-2.653 0-.882-.766-1.601-1.702-1.601-.936 0-1.702 1.194-1.702 2.653ZM98.36-13.23a1.9 1.9 0 0 0 .616 2.607c.887.548 2.059.27 2.607-.616a1.899 1.899 0 0 0-.616-2.607 1.9 1.9 0 0 0-2.607.616ZM15.732-5.327c0 1.458.766 2.18 1.702 1.601.936-.578 1.701-1.771 1.701-2.653 0-.881-.765-1.601-1.701-1.601s-1.702 1.195-1.702 2.653Zm15.742 18.895c-2.783 1.123-2.657 9.173.34 21.848 1.5 6.341 1.812 10.824.825 11.828-2.132 2.166-2.04 12.849.11 12.849.937 0 1.703-2.216 1.703-4.924 0-2.92 1.096-5.343 2.692-5.956 4.282-1.642 16.028-1.197 16.028.61 0 2.215-5.768 5.164-10.099 5.164-4.38 0-4.4.819-.112 5.105 1.872 1.873 3.403 4.553 3.403 5.957s.853 2.553 1.895 2.553c1.133 0 1.598-2.029 1.155-5.041-.817-5.563 2.592-8.257 6.424-5.075 1.23 1.02 3.622 1.71 5.315 1.535 9.132-.95 10.739-.087 10.739 5.764 0 3.531-1.292 6.862-3.404 8.773-3.475 3.145-4.682 9.36-1.816 9.36.873 0 2.04-1.431 2.596-3.18.554-1.748 2.522-4.546 4.37-6.22 2.728-2.469 3.36-5.253 3.36-14.802 0-15.481-1.563-18.236-10.149-17.894-3.696.148-7.07-.085-7.496-.516-.426-.432.39-5.966 1.812-12.299 2.78-12.369 1.617-16.565-4.59-16.565-4.217 0-6.041 2.9-8.567 13.614l-2.207 9.36-2.31-10.136c-2.703-11.85-5.33-14.41-12.017-11.712Zm9.052 16.154c1.272 5.94 2.343 11.758 2.375 12.927.092 3.25-4.702 2.53-5.665-.851-2.551-8.958-4.564-22.747-3.559-24.375 2.036-3.293 4.423.996 6.849 12.299Zm16.211 2.236c-2.117 10.39-3.206 12.818-5.756 12.818-2.183 0-2.884-.91-2.295-2.978.466-1.637 1.75-7.573 2.855-13.19 2.41-12.256 3.016-13.442 5.72-11.197 1.64 1.36 1.527 4.472-.524 14.547Zm5.795 18.775c0 2.651-.957 5.14-2.128 5.53-1.443.482-2.127-1.295-2.127-5.53 0-4.236.684-6.013 2.127-5.531 1.171.39 2.128 2.88 2.128 5.53Zm9.36.14c0 4.123-.69 5.87-2.128 5.39-3.999-1.33-3.669-11.487.373-11.487.965 0 1.755 2.743 1.755 6.098ZM31.048 68.306c0 1.71 1.915 4.905 4.255 7.104s4.254 5.012 4.254 6.252c0 1.24 1.149 2.257 2.553 2.257 4.08 0 2.968-4.07-2.553-9.36-2.808-2.69-5.105-5.897-5.105-7.126 0-1.228-.766-2.234-1.702-2.234-.936 0-1.702 1.399-1.702 3.108Z"
                  clipRule="evenodd"
                />
              </g>
              <defs>
                <filter
                  id="a"
                  width={99.799}
                  height={99.799}
                  x={0.938}
                  y={0}
                  colorInterpolationFilters="sRGB"
                  filterUnits="userSpaceOnUse"
                >
                  <feFlood floodOpacity={0} result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    result="hardAlpha"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  />
                  <feOffset dy={1.062} />
                  <feGaussianBlur stdDeviation={0.531} />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                  <feBlend
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_81_459"
                  />
                  <feBlend
                    in="SourceGraphic"
                    in2="effect1_dropShadow_81_459"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          </TouchableOpacity>
          {/* Paper (Right) */}
          <TouchableOpacity
            ref={button3Ref}
            style={[styles.choiceButton, styles.paper]}
            onPress={() => setIsToggled3(!isToggled3)}
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width={101}
              height={100}
              fill="none"
            >
              <g filter="url(#a)">
                <rect
                  width={97.676}
                  height={97.676}
                  x={2}
                  fill={isToggled3 ? '#CB1B45' : '#F5F5F5'}
                  rx={48.838}
                />
                <rect
                  width={94.676}
                  height={94.676}
                  x={3.5}
                  y={1.5}
                  stroke="#CB1B45"
                  strokeWidth={3}
                  rx={47.338}
                />
              </g>
              <mask
                id="b"
                width={89}
                height={77}
                x={4}
                y={11}
                maskUnits="userSpaceOnUse"
                style={{
                  maskType: 'alpha',
                }}
              >
                <path
                  fill="#CB1B45"
                  stroke="#000"
                  strokeWidth={1.702}
                  d="m86.496 21.65-53.297-9.625L5.083 62.003l12.974 14.048 20.929 7.37 30.048 3.395 2.302-12.346 15.954-3.653 4.64-30.47-5.434-18.697Z"
                />
              </mask>
              <g mask="url(#b)">
                <path
                  fill={isToggled3 ? '#F5F5F5' : '#CB1B45'}
                  fillRule="evenodd"
                  d="M98.183-21.027c-4.215 2.26-5.56 4.312-7.445 11.344-2.081 7.77-2.982 8.921-9.478 12.128-7.834 3.87-12.727 4.069-7.725.316 1.663-1.251 3.784-2.565 4.71-2.923.926-.358.944-1.436.037-2.398-.999-1.06-5.066.186-10.354 3.172-8.155 4.607-13.168 5.62-12.33 2.494.2-.746 2.691-2.605 5.535-4.13 3.448-1.85 4.77-3.47 3.967-4.86-.801-1.388-2.798-1.228-5.991.486-4.832 2.592-8.996 2.676-8.324.167.2-.746 2.69-2.605 5.534-4.13 3.448-1.85 4.77-3.47 3.968-4.86-.801-1.389-2.798-1.228-5.992.485-4.831 2.593-8.996 2.676-8.324.168.2-.746 2.691-2.606 5.535-4.13 6.28-3.37 5.17-8.122-1.14-4.885-7.133 3.656-5.788-2.08 1.51-6.447 9.319-5.576 7.834-9.89-1.598-4.64-6.985 3.889-11.074 11.185-8.06 14.385.754.801 1.069 2.586.698 3.968-.701 2.619 11.702 24.901 14.24 25.581.8.215 2.86-.422 4.58-1.415 1.72-.993 5.615-1.138 8.655-.324 4.34 1.163 7.421.366 14.335-3.713C92.772.065 93.728-1.114 95.802-8.854c1.248-4.659 3.132-8.73 4.186-9.046 1.053-.317 2.236-1.77 2.627-3.23.569-2.125-.319-2.104-4.432.103ZM77.964 64.291c-.754-.801-.728-3.856.058-6.79 1.054-3.934.316-7.196-2.812-12.421-5.008-8.372-8.572-8.057-3.956.35 2.062 3.753 2.687 7.576 1.787 10.933-.843 3.146-.28 7.386 1.439 10.86 2.697 5.446 2.867 5.54 3.838 2.112.56-1.973.4-4.243-.353-5.044ZM57.642 79.59c-2.379-3.84-5.124-5.311-16.276-8.731-14.275-4.376-18.304-8.573-5.943-6.189l7.39 1.424L33.39 49.66c-7.777-13.564-8.865-16.493-6.228-16.77 2.308-.242 4.792 2.377 8.924 9.411 3.15 5.36 6.4 9.356 7.226 8.88.826-.477-2.138-7.228-6.588-15.002-6.377-11.144-7.548-14.447-5.538-15.607 2.009-1.16 4.304 1.539 10.836 12.752 4.556 7.824 8.895 13.65 9.643 12.947.745-.702-1.611-6.343-5.236-12.534-6.45-11.01-7.581-16.045-3.352-14.912 1.161.311 5.015 5.667 8.563 11.903 3.55 6.235 7.248 11.099 8.221 10.806.974-.292-.542-4.622-3.367-9.623-4.007-7.094-4.583-9.41-2.623-10.541 1.96-1.132 3.574.337 7.343 6.691 6.305 10.624 9.176 8.962 3.126-1.808-4.405-7.844-10.303-11.824-13.315-8.988-.725.683-2.74.434-4.476-.554-2.805-1.597-6.181-1.484-15.88.528-1.539.319-3.397 2.703-4.13 5.296-.732 2.593-2.405 6.304-3.716 8.247-2.056 3.047-1.339 5.362 5.203 16.81 5.926 10.371 6.86 13.085 4.265 12.39-6.643-1.78-10.885 3.474-7.516 9.312 1.412 2.447 5.312 4.191 15.417 6.899 7.74 2.074 14.1 4.617 14.867 5.943.735 1.275 2.262 2.264 3.391 2.196 1.229-.074.903-1.981-.808-4.742ZM90.26-42.53c-1.46-.391-3.31-.094-4.111.66-.801.755-4.66.513-8.574-.535-8.147-2.183-17.525.681-15.275 4.665.958 1.694 2.05 1.786 4.09.34 1.7-1.204 5.473-1.25 9.692-.12 5.246 1.406 8.105 1.111 11.872-1.223 3.968-2.46 4.43-3.218 2.306-3.787ZM63.963 44.776a1.9 1.9 0 0 0-2.678-.08 1.9 1.9 0 0 0-.08 2.678 1.9 1.9 0 0 0 2.678.08 1.9 1.9 0 0 0 .08-2.678Zm6.704-55.557c-1.408-.377-2.304.175-1.987 1.23.317 1.053 1.27 2.102 2.122 2.33.852.228 1.745-.325 1.988-1.23.242-.904-.714-1.953-2.123-2.33Zm-15.041 60.37a1.9 1.9 0 0 0-2.678-.08 1.9 1.9 0 0 0-.08 2.678 1.9 1.9 0 0 0 2.678.08 1.9 1.9 0 0 0 .08-2.678Zm10.228-68.707c-1.409-.378-2.304.175-1.987 1.23.316 1.053 1.27 2.102 2.122 2.33.851.228 1.745-.326 1.987-1.23.242-.904-.713-1.953-2.122-2.33Zm-18.565 73.52a1.9 1.9 0 0 0-2.678-.079 1.9 1.9 0 0 0-.08 2.678 1.9 1.9 0 0 0 2.678.08 1.9 1.9 0 0 0 .08-2.678ZM61.04-27.454c-1.408-.378-2.303.175-1.987 1.229.317 1.054 1.27 2.102 2.122 2.33.852.229 1.745-.325 1.988-1.229.242-.904-.714-1.953-2.123-2.33ZM38.715-17.14c-.365-2.979-8.173-4.94-21.192-5.326C11.01-22.658 6.6-23.517 5.885-24.73c-1.54-2.62-11.883-5.297-12.44-3.219-.242.904 1.7 2.217 4.316 2.918 2.82.756 4.878 2.442 5.056 4.142C3.295-16.328-.175-5.097-1.92-5.565c-2.14-.573-3.496-6.907-2.375-11.091 1.134-4.231.348-4.461-4.902-1.43-2.293 1.324-5.279 2.11-6.635 1.746-1.356-.363-2.686.163-2.956 1.169-.293 1.095 1.546 2.069 4.57 2.42 5.585.652 7.305 4.641 3.24 7.52-1.304.924-2.59 3.055-2.859 4.736-1.446 9.067-2.695 10.395-8.347 8.88-3.41-.913-6.293-3.023-7.593-5.557-2.138-4.171-7.83-6.945-8.57-4.177-.227.843.854 2.341 2.398 3.33 1.546.988 3.74 3.613 4.877 5.83 1.68 3.275 4.205 4.605 13.429 7.077 14.954 4.007 18.02 3.21 19.911-5.17.814-3.61 1.912-6.807 2.438-7.108.528-.3 5.663 1.92 11.411 4.934 11.228 5.885 15.583 5.849 17.19-.146 1.09-4.074-1.238-6.587-10.934-11.8l-8.47-4.554 10.389.391c12.145.457 15.297-1.417 14.423-8.575Zm-17.946 4.562c-6.067-.307-11.964-.78-13.102-1.05-3.163-.753-1.227-5.198 2.289-5.253 9.313-.145 23.152 1.479 24.465 2.872 2.654 2.818-2.106 4.014-13.652 3.431Zm-6.356 15.08C4.925-2.23 2.86-3.911 3.52-6.373c.565-2.11 1.626-2.551 3.471-1.447 1.46.874 6.862 3.651 12 6.172 11.216 5.5 12.205 6.392 9.337 8.423-1.738 1.233-4.715.317-13.916-4.271Zm-19.635.739C-7.782 2.554-9.94.986-10.013-.246c-.092-1.518 1.801-1.72 5.893-.623C-.03.227 1.51 1.348.67 2.617c-.679 1.03-3.332 1.31-5.893.624Zm-2.559 9.004c-3.98-1.067-5.49-2.185-4.655-3.45 2.32-3.518 12.045-.57 11 3.334-.25.932-3.105.984-6.345.116Zm-6.266-43.963c-1.65-.443-5.233.58-7.963 2.27-2.73 1.692-5.942 2.813-7.14 2.492-1.199-.321-2.477.526-2.84 1.882-1.057 3.94 3.163 3.92 9.701-.043 3.326-2.017 7.017-3.406 8.204-3.088 1.187.318 2.357-.161 2.599-1.065.242-.904-.91-2.006-2.561-2.448Z"
                  clipRule="evenodd"
                />
              </g>
              <defs>
                <filter
                  id="a"
                  width={99.799}
                  height={99.799}
                  x={0.938}
                  y={0}
                  colorInterpolationFilters="sRGB"
                  filterUnits="userSpaceOnUse"
                >
                  <feFlood floodOpacity={0} result="BackgroundImageFix" />
                  <feColorMatrix
                    in="SourceAlpha"
                    result="hardAlpha"
                    values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                  />
                  <feOffset dy={1.062} />
                  <feGaussianBlur stdDeviation={0.531} />
                  <feComposite in2="hardAlpha" operator="out" />
                  <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                  <feBlend
                    in2="BackgroundImageFix"
                    result="effect1_dropShadow_81_466"
                  />
                  <feBlend
                    in="SourceGraphic"
                    in2="effect1_dropShadow_81_466"
                    result="shape"
                  />
                </filter>
              </defs>
            </svg>
          </TouchableOpacity>
        </View>
      </View>
    </View>
  );
}

const styles = StyleSheet.create({
  container: {
    width: '100%',
    alignItems: 'center',
    justifyContent: 'center',
    position: 'relative', // Allow absolute-positioned elements to anchor here
    height: CIRCLE_RADIUS, // Adjust height to fit content
  },
  contentContainer: {
    width: '100%',
    height: '100%',
    position: 'absolute',
  },
  arc: {
    width: CIRCLE_RADIUS * 2,
    height: CIRCLE_RADIUS * 2,
    position: 'absolute',
    bottom: -CIRCLE_RADIUS * 0.8, // Adjust based on reduced container height
    zIndex: 0,
  },
  title: {
    fontSize: 14,
    color: '#FFF',
    textAlign: 'center',
    position: 'absolute',
    top: CIRCLE_RADIUS * 0.7, // Adjust position
    width: '100%',
    zIndex: 1,
  },
  choices: {
    width: '100%',
    height: '100%',
    position: 'relative', // Anchor absolute-positioned buttons here
    zIndex: 2,
  },
  choiceButton: {
    position: 'absolute',
    width: BUTTON_SIZE,
    height: BUTTON_SIZE,
    borderRadius: BUTTON_RADIUS,
    alignItems: 'center',
    justifyContent: 'center',
    // backgroundColor: '#FFF',

    zIndex: 3,
  },
  rock: {
    borderColor: '#FFCC00',
    left: '5%', // Use percentages for relative positioning
    top: '40%',
  },
  scissors: {
    borderColor: '#00CCCC',
    top: '1%',
    left: '50%',
    transform: [{ translateX: -BUTTON_RADIUS }], // Center horizontally
  },
  paper: {
    borderColor: '#FF3366',
    right: '5%', // Use percentages
    top: '40%',
  },
  choiceText: {
    fontSize: 30,
  },
});
